<!DOCTYPE html>
<html lang="it">
  <body class="flex min-h-screen bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-100">
    <app-toast></app-toast>

    <!-- Overlay per mobile (quando sidebar Ã¨ aperta) -->
    <div
      *ngIf="isSidebarOpen"
      (click)="toggleSidebar()"
      class="fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden transition-opacity"
    ></div>

    <!-- Sidebar: nascosta su mobile, visibile su desktop -->
    <app-sidebar
      [class.translate-x-0]="isSidebarOpen"
      [class.-translate-x-full]="!isSidebarOpen"
      class="fixed lg:static w-64 flex-shrink-0 z-50 lg:translate-x-0 transition-transform duration-300 ease-in-out"
      (closeSidebar)="closeSidebar()"
    ></app-sidebar>

    <!-- Main content -->
    <div class="main-content flex-1 flex flex-col min-h-0 w-full lg:w-auto">
      <!-- Hamburger button (solo mobile) -->
      <button
        (click)="toggleSidebar()"
        class="lg:hidden fixed top-4 left-4 z-30 p-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"
        aria-label="Toggle menu"
      >
        <svg class="w-6 h-6 text-gray-700 dark:text-gray-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>

      <router-outlet></router-outlet>
    </div>

  </body>
</html>